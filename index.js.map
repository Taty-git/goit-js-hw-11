{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '49366539-6fd412d088ca04dcc1c9b4bd7';\n\nexport const fetchImages = (searchText) => {\n  return axios.get('https://pixabay.com/api/', {\n    params: {\n      key: API_KEY,\n      q: searchText,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    }\n  });\n};\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport const showLoader = () => {\n  const loader = document.createElement('div');\n  loader.classList.add('loader');\n  document.body.appendChild(loader);\n};\n\nexport const hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    document.body.removeChild(loader);\n  }\n};\n\nexport const clearGallery = () => {\n  let gallery = document.querySelector('.gallery');\n  if (gallery) {\n    gallery.innerHTML = '';\n  }\n};\n\nexport function renderImages(images) {\n    const gallery = document.querySelector('.gallery');\n\n    images.forEach(image => {\n        const galleryItem = document.createElement('li');\n        galleryItem.classList.add('gallery-item');\n\n        galleryItem.innerHTML = `\n            <a href=\"${image.webformatURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\"></a>\n            <div class=\"info\">\n                <p><b>Likes</b><br>${image.likes}</p>\n                <p><b>Views</b><br>${image.views}</p>\n                <p><b>Comments</b><br>${image.comments}</p>\n                <p><b>Downloads</b><br>${image.downloads}</p>\n            </div>\n        `;\n\n        gallery.appendChild(galleryItem);\n    });\n\n    \n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n\n    lightbox.refresh(); \n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchImages } from './js/pixabay-api.js';\nimport { showLoader, hideLoader, clearGallery, renderImages } from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', function (event) {\n  event.preventDefault();\n  const searchText = form.querySelector('input[name=\"search-text\"]').value.trim();\n\n  if (!searchText) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please, enter the text for search!',\n    });\n    return;\n  }\n  showLoader();\n\n  let gallery = document.querySelector('.gallery');\n  if (!gallery) {\n    gallery = createGallery();\n  } else {\n    clearGallery();\n  }\n\n  fetchImages(searchText)\n    .then(response => {\n      hideLoader();\n\n      const images = response.data.hits;\n\n      if (images.length === 0) {\n        iziToast.warning({\n          title: 'Caution',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      renderImages(images);\n\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    })\n    .catch(error => {\n      hideLoader();\n      iziToast.error({\n        title: 'Error',\n        message: 'Illegal operation.',\n      });\n      console.error(error);\n    });\n});"],"names":["API_KEY","fetchImages","searchText","axios","showLoader","loader","hideLoader","clearGallery","gallery","renderImages","images","image","galleryItem","SimpleLightbox","form","event","iziToast","response","error"],"mappings":"owBAEA,MAAMA,EAAU,qCAEHC,EAAeC,GACnBC,EAAM,IAAI,2BAA4B,CAC3C,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,ECVUE,EAAa,IAAM,CAC9B,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAC7B,SAAS,KAAK,YAAYA,CAAM,CAClC,EAEaC,EAAa,IAAM,CAC9B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACF,SAAS,KAAK,YAAYA,CAAM,CAEpC,EAEaE,EAAe,IAAM,CAChC,IAAIC,EAAU,SAAS,cAAc,UAAU,EAC3CA,IACFA,EAAQ,UAAY,GAExB,EAEO,SAASC,EAAaC,EAAQ,CACjC,MAAMF,EAAU,SAAS,cAAc,UAAU,EAEjDE,EAAO,QAAQC,GAAS,CACpB,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,cAAc,EAExCA,EAAY,UAAY;AAAA,uBACTD,EAAM,YAAY,eAAeA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,qCAEzDA,EAAM,KAAK;AAAA,qCACXA,EAAM,KAAK;AAAA,wCACRA,EAAM,QAAQ;AAAA,yCACbA,EAAM,SAAS;AAAA;AAAA,UAIhDH,EAAQ,YAAYI,CAAW,CACvC,CAAK,EAGgB,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACtB,CAAK,EAEQ,QAAO,CACpB,CC3CA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,SAAUC,EAAO,CAC/CA,EAAM,eAAc,EACpB,MAAMb,EAAaY,EAAK,cAAc,2BAA2B,EAAE,MAAM,OAEzE,GAAI,CAACZ,EAAY,CACfc,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACf,CAAK,EACD,MACD,CACDZ,IAEA,IAAII,EAAU,SAAS,cAAc,UAAU,EAC1CA,EAGHD,IAFAC,EAAU,cAAa,EAKzBP,EAAYC,CAAU,EACnB,KAAKe,GAAY,CAChBX,IAEA,MAAMI,EAASO,EAAS,KAAK,KAE7B,GAAIP,EAAO,SAAW,EAAG,CACvBM,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,0EACnB,CAAS,EACD,MACD,CAEDP,EAAaC,CAAM,EAEF,IAAIG,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMK,GAAS,CACdZ,IACAU,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oBACjB,CAAO,EACD,QAAQ,MAAME,CAAK,CACzB,CAAK,CACL,CAAC"}